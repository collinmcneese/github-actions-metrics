var h=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var m=(o,a)=>{for(var t in a)h(o,t,{get:a[t],enumerable:!0})},c=(o,a,t,e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of w(a))!u.call(o,n)&&n!==t&&h(o,n,{get:()=>a[n],enumerable:!(e=s(a,n))||e.enumerable});return o};var $=o=>c(h({},"__esModule",{value:!0}),o);var R={};m(R,{default:()=>D});module.exports=$(R);var M=require("@opensearch-project/opensearch"),g=`${process.env.OPENSEARCH_HOST}`,z=`${process.env.OPENSEARCH_PROTOCOL}`,_=`${process.env.OPENSEARCH_PORT}`,p=`${process.env.OPENSEARCH_USERNAME}:${process.env.OPENSEARCH_PASSWORD}`,d=new M.Client({nodes:`${z}://${p}@${g}:${_}`.replace(/"/g,""),ssl:{rejectUnauthorized:!1}}),S=500;async function r(o){for(let a=0;a<S;a++){let t=Math.floor(Math.random()*1e6);o=new Date(new Date(o).getTime()+Math.floor(Math.random()*20*60*1e3)).toISOString();let e={"@timestamp":o,action:"completed",workflow:{id:Math.floor(new Date(o).getTime()/1e3)+a,name:`workflow-${Math.floor(Math.random()*10)}`,head_branch:"main",conclusion:`${Math.floor(Math.random()*10)%2===0?"success":"failure"}`},workflow_run:{id:t,name:`workflow-${Math.floor(Math.random()*10)}`,path:`.github/workflows/workflow-${Math.floor(Math.random()*10)}.yml`},repository:{id:Math.floor(new Date(o).getTime()/1e3)+a,node_id:"R_zzzzzzzzzzzz",name:`Repo-${Math.floor(Math.random()*10)}`,full_name:`org-${Math.floor(Math.random()*10)}/Repo-${Math.floor(Math.random()*10)}`},organization:{login:`org-${Math.floor(Math.random()*10)}`,id:Math.floor(new Date(o).getTime()/1e3)+a},duration:Math.floor(Math.random()*1e3),queue_duration:Math.floor(Math.random()*1e3)};await d.index({index:"workflow_run",body:e});let n=Math.floor(Math.random()*10)+3;for(let l=0;l<n;l++){let f=Math.floor(Math.random()*1e6)+l,i={"@timestamp":o,action:"completed",duration:Math.floor(Math.random()*1e3),queue_duration:Math.floor(Math.random()*500),workflow_job:{id:f,name:`job-${Math.floor(Math.random()*10)}`,run_id:t,workflow_name:`workflow-${Math.floor(Math.random()*10)}`,labels:[`${Math.floor(Math.random()*10)%2===0?"ubuntu-latest":"windows-latest"}`],head_branch:"main",conclusion:`${Math.floor(Math.random()*10)%2===0?"success":"failure"}`,run_attempt:1,runner_group_name:`${Math.floor(Math.random()*10)%2===0?"GitHub Actions":"Runner Group 1"}`,steps:[{name:`step-${Math.floor(Math.random()*10)}`,status:"completed",conclusion:`${Math.floor(Math.random()*10)%2===0?"success":"failure"}`,number:1,duration:Math.floor(Math.random()*1e3)}]},repository:{id:987654321,node_id:"R_zzzzzzzzzzzz",name:`Repo-${Math.floor(Math.random()*100)}`,full_name:`org-${Math.floor(Math.random()*10)}/Repo-${Math.floor(Math.random()*10)}`,private:!0,owner:{login:`org-${Math.floor(Math.random()*10)}`,id:Math.floor(new Date(o).getTime()/1e3)+a}},organization:{login:`org-${Math.floor(Math.random()*10)}`,id:Math.floor(new Date(o).getTime()/1e3)+a}};await d.index({index:"workflow_job",body:i})}}}process.env.SEED_DATA=="true"?(r(new Date().toISOString()),r(new Date(Date.now()-60*60*1e3).toISOString()),r(new Date(Date.now()-2*60*60*1e3).toISOString()),r(new Date(Date.now()-3*60*60*1e3).toISOString()),r(new Date(Date.now()-4*60*60*1e3).toISOString())):console.log("Skipping data seeding");var D={seed:r};
