var l=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var i=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var s=(o,a)=>{for(var n in a)l(o,n,{get:a[n],enumerable:!0})},c=(o,a,n,e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let t of i(a))!w.call(o,t)&&t!==n&&l(o,t,{get:()=>a[t],enumerable:!(e=M(a,t))||e.enumerable});return o};var u=o=>c(l({},"__esModule",{value:!0}),o);var D={};s(D,{default:()=>_});module.exports=u(D);var d=require("@opensearch-project/opensearch"),m=`${process.env.OPENSEARCH_HOST}`,g=`${process.env.OPENSEARCH_PROTOCOL}`,$=`${process.env.OPENSEARCH_PORT}`,z=`${process.env.OPENSEARCH_USERNAME}:${process.env.OPENSEARCH_PASSWORD}`,h=new d.Client({nodes:`${g}://${z}@${m}:${$}`.replace(/"/g,""),ssl:{rejectUnauthorized:!1}}),S=500;async function r(o){for(let a=0;a<S;a++){o=new Date(new Date(o).getTime()+Math.floor(Math.random()*20*60*1e3)).toISOString();let n={"@timestamp":o,action:"completed",workflow:{id:Math.floor(new Date(o).getTime()/1e3)+a,name:`workflow-${Math.floor(Math.random()*10)}`,head_branch:"main",conclusion:`${Math.floor(Math.random()*10)%2===0?"success":"failure"}`},workflow_run:{id:Math.floor(new Date(o).getTime()/1e3)+a,name:`workflow-${Math.floor(Math.random()*10)}`,path:`.github/workflows/workflow-${Math.floor(Math.random()*10)}.yml`},repository:{id:Math.floor(new Date(o).getTime()/1e3)+a,node_id:"R_zzzzzzzzzzzz",name:`Repo-${Math.floor(Math.random()*10)}`,full_name:`org-${Math.floor(Math.random()*10)}/Repo-${Math.floor(Math.random()*10)}`},organization:{login:`org-${Math.floor(Math.random()*10)}`,id:Math.floor(new Date(o).getTime()/1e3)+a},duration:Math.floor(Math.random()*1e3),queue_duration:Math.floor(Math.random()*1e3)};await h.index({index:"workflow_run",body:n});let e=Math.floor(Math.random()*10)+1;for(let t=0;t<e;t++){let f={"@timestamp":o,action:"completed",duration:Math.floor(Math.random()*1e3),queue_duration:Math.floor(Math.random()*500),workflow_job:{id:Math.floor(new Date(o).getTime()/1e3)+a,name:`job-${Math.floor(Math.random()*10)}`,run_id:Math.floor(new Date(o).getTime()/1e3)+a,workflow_name:`workflow-${Math.floor(Math.random()*10)}`,labels:[`${Math.floor(Math.random()*10)%2===0?"ubuntu-latest":"windows-latest"}`],head_branch:"main",conclusion:`${Math.floor(Math.random()*10)%2===0?"success":"failure"}`,run_attempt:1,steps:[{name:`step-${Math.floor(Math.random()*10)}`,status:"completed",conclusion:`${Math.floor(Math.random()*10)%2===0?"success":"failure"}`,number:1,duration:Math.floor(Math.random()*1e3)}]},repository:{id:987654321,node_id:"R_zzzzzzzzzzzz",name:`Repo-${Math.floor(Math.random()*10)}`,full_name:`org-${Math.floor(Math.random()*10)}/Repo-${Math.floor(Math.random()*10)}`,private:!0,owner:{login:`org-${Math.floor(Math.random()*10)}`,id:Math.floor(new Date(o).getTime()/1e3)+a}},organization:{login:`org-${Math.floor(Math.random()*10)}`,id:Math.floor(new Date(o).getTime()/1e3)+a}};await h.index({index:"workflow_job",body:f})}}}process.env.SEED_DATA=="true"?(r(new Date().toISOString()),r(new Date(Date.now()-60*60*1e3).toISOString()),r(new Date(Date.now()-2*60*60*1e3).toISOString()),r(new Date(Date.now()-3*60*60*1e3).toISOString()),r(new Date(Date.now()-4*60*60*1e3).toISOString())):console.log("Skipping data seeding");var _={seed:r};
